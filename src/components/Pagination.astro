---
const { page } = Astro.props;
const normalizeFirstPageUrl = (url) => (url ? url.replace(/\/1\/?$/, '/') : url);
const prevUrl = page.url.next;
const nextUrl = normalizeFirstPageUrl(page.url.prev);
const prevDisabled = !prevUrl;
const nextDisabled = !nextUrl;
const buttonBaseClasses =
  'rounded-full border border-[var(--border-color)] px-4 py-1 text-sm text-[var(--text-color)] transition hover:bg-[var(--secondary-background-color)]';
const buttonDisabledClasses = 'pointer-events-none opacity-50';
---
<nav aria-label="Page navigation">
  <ul class="mx-auto flex w-fit list-none items-center gap-3 p-0">
    <li>
      <a
        href={prevUrl ?? '#'}
        class={`${buttonBaseClasses} ${prevDisabled ? buttonDisabledClasses : ''}`}
        aria-disabled={prevDisabled}
      >
        Prev
      </a>
    </li>
    <li>
      <a
        href={nextUrl ?? '#'}
        class={`${buttonBaseClasses} ${nextDisabled ? buttonDisabledClasses : ''}`}
        aria-disabled={nextDisabled}
      >
        Next
      </a>
    </li>
  </ul>
</nav>
