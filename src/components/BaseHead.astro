---
import { site } from '../data/site';

const { title, description, canonical, image } = Astro.props;
const pageTitle = title ? `${title} | ${site.title}` : site.title;
const pageDescription = description ?? site.description;
const canonicalUrl = canonical ?? new URL(Astro.url.pathname, site.url).toString();
const ogImage = image ? new URL(image, site.url).toString() : undefined;
---
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-control" content="public">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="alternate" type="application/rss+xml" title={site.title} href="/feed.xml">
  <link rel="shortcut icon" href="/ico/favicon.ico">
  <link rel="apple-touch-icon" href="/ico/apple-touch-icon.png">
  <title>{pageTitle}</title>
  <meta name="description" content={pageDescription}>
  <link rel="canonical" href={canonicalUrl}>
  <meta property="og:site_name" content={site.title}>
  <meta property="og:title" content={pageTitle}>
  <meta property="og:description" content={pageDescription}>
  <meta property="og:url" content={canonicalUrl}>
  <meta property="og:type" content="website">
  {ogImage ? <meta property="og:image" content={ogImage} /> : null}
  <meta name="twitter:card" content={site.twitter.card}>
  <meta name="twitter:site" content={`@${site.twitter.username}`}>
</head>
